#include <iostream>
#include <vector>
#include "interpolateY.h"
#include "spline_fitter.h"

int main() {
    // Example usage
    std::vector<Point> points = {{0.0015, 3801.}, {0.002, 1917.}, {0.003, 700.3}, {0.004, 335.1}, {0.004557, 658.5}, {0.004702, 616.6}, {0.004852, 771.9}, {0.005, 727.7}, {0.005188, 760.4}, {0.006, 529.7}, {0.008, 248.9}, {0.01, 137.5}, {0.015, 45.7}, {0.02, 20.62}, {0.03, 6.607}, {0.03317, 29.76}, {0.04, 18.24}, {0.05, 10.06}, {0.06, 6.111}, {0.08, 2.746}, {0.1, 1.462}, {0.15, 0.4592}, {0.2, 0.2019}, {0.3, 0.06481}, {0.4, 0.02987}, {0.5, 0.01684}, {0.6, 0.01079}, {0.8, 0.005588}, {1., 0.003491}, {1.022, 0.003323}, {1.25, 0.00224}, {1.5, 0.001604}, {2., 0.0009761}, {2.044, 0.0009415}, {3., 0.0005178}, {4., 0.0003428}, {5., 0.0002535}, {6., 0.0002}, {7., 0.0001647}, {8., 0.0001398}, {9., 0.0001212}, {10., 0.0001069}, {11., 0.00009565}, {12., 0.00008648}, {13., 0.00007888}, {14., 0.00007249}, {15., 0.00006706}, {16., 0.0000624}, {18., 0.00005472}, {20., 0.00004873}};
    double xValue = 0.00371;
	
	std::cout << "x:" << xValue << std::endl; 

    double result = interpolateY(points, xValue);
    std::cout << "Interpolate result: " << result << std::endl;

	SplineFitter fitter(points);

    double yValue = fitter.calculateY(xValue);
    std::cout << "Spline value at x = " << xValue << ": " << yValue << std::endl;


    return 0;
}

